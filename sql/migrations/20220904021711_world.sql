DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20220904021711');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20220904021711');
-- Add your query below.


-- Events list for Azuregos
DELETE FROM `creature_ai_events` WHERE `creature_id`=6109;
INSERT INTO `creature_ai_events` (`id`, `creature_id`, `condition_id`, `event_type`, `event_inverse_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action1_script`, `action2_script`, `action3_script`, `comment`) VALUES (610900, 6109, 0, 4, 0, 100, 0, 0, 0, 0, 0, 610900, 0, 0, 'Azuregos - Say Text on Aggro');
INSERT INTO `creature_ai_events` (`id`, `creature_id`, `condition_id`, `event_type`, `event_inverse_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action1_script`, `action2_script`, `action3_script`, `comment`) VALUES (610901, 6109, 0, 5, 0, 100, 1, 10000, 10000, 1, 0, 610901, 0, 0, 'Azuregos - Say Text on Killed Player');
DELETE FROM `creature_ai_scripts` WHERE `id`=610900;
INSERT INTO `creature_ai_scripts` (`id`, `delay`, `priority`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES
(610900, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9072, 0, 0, 0, 0, 0, 0, 0, 0, 'Azuregos - Say Text');
DELETE FROM `creature_ai_scripts` WHERE `id`=610901;
INSERT INTO `creature_ai_scripts` (`id`, `delay`, `priority`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES
(610901, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9073, 0, 0, 0, 0, 0, 0, 0, 0, 'Azuregos - Say Text');
DELETE FROM `creature_ai_scripts` WHERE `id` IN (610902, 610903);
UPDATE `creature_template` SET `auras`='23184' WHERE `entry`=6109;

-- Update Azuregos' gossip menu.
UPDATE `gossip_menu` SET `entry`=6626 WHERE `entry`=15000;
UPDATE `gossip_menu_option` SET `menu_id`=6626 WHERE `menu_id`=15000;
UPDATE `creature_template` SET `gossip_menu_id`=6626 WHERE `gossip_menu_id`=15000;
DELETE FROM `gossip_scripts` WHERE `id`=7;
DELETE FROM `gossip_scripts` WHERE `id`=6626;
INSERT INTO `gossip_scripts` (`id`, `delay`, `priority`, `command`, `datalong`, `datalong2`, `datalong3`, `datalong4`, `target_param1`, `target_param2`, `target_type`, `data_flags`, `dataint`, `dataint2`, `dataint3`, `dataint4`, `x`, `y`, `z`, `o`, `condition_id`, `comments`) VALUES
(6626, 0, 0, 22, 14, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Azuregos - Set Faction to Monster'),
(6626, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 11017, 0, 0, 0, 0, 0, 0, 0, 0, 'Azuregos - Say Text'),
(6626, 1, 0, 26, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 'Azuregos - Attack Player');
UPDATE `gossip_menu_option` SET `action_script_id`=6626 WHERE `action_script_id`=7 && `menu_id`=6626;

-- Correct waypoints for Azuregos.
DELETE FROM `creature_movement_template` WHERE `entry`=6109;
INSERT INTO `creature_movement_template` (`entry`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(6109, 1, 2680.741699, -6159.521484, 98.155739, 100.000000, 0, 0.000000, 0),
(6109, 2, 2716.391602, -6178.131348, 98.550522, 100.000000, 0, 0.000000, 0),
(6109, 3, 2741.562256, -6208.327637, 101.833366, 100.000000, 0, 0.000000, 0),
(6109, 4, 2719.808350, -6245.697266, 97.272995, 100.000000, 0, 0.000000, 0),
(6109, 5, 2695.288330, -6266.336426, 96.195808, 100.000000, 0, 0.000000, 0),
(6109, 6, 2659.029541, -6281.106934, 99.561691, 100.000000, 0, 0.000000, 0),
(6109, 7, 2627.978027, -6276.947266, 98.393661, 100.000000, 0, 0.000000, 0),
(6109, 8, 2595.850586, -6277.702148, 101.918579, 100.000000, 0, 0.000000, 0),
(6109, 9, 2565.855957, -6268.328125, 101.770103, 100.000000, 0, 0.000000, 0),
(6109, 10, 2534.935303, -6260.347168, 104.518066, 100.000000, 0, 0.000000, 0),
(6109, 11, 2510.089844, -6241.972168, 103.312019, 100.000000, 0, 0.000000, 0),
(6109, 12, 2480.101074, -6215.381836, 102.838104, 100.000000, 0, 0.000000, 0),
(6109, 13, 2452.467529, -6185.828125, 101.496857, 100.000000, 0, 0.000000, 0),
(6109, 14, 2428.944580, -6163.527832, 103.178360, 100.000000, 0, 0.000000, 0),
(6109, 15, 2401.359619, -6148.623535, 98.996292, 100.000000, 0, 0.000000, 0),
(6109, 16, 2381.684326, -6119.799805, 103.451393, 100.000000, 0, 0.000000, 0),
(6109, 17, 2355.527832, -6092.530273, 109.467957, 100.000000, 0, 0.000000, 0),
(6109, 18, 2317.619385, -6080.152832, 105.969620, 100.000000, 0, 0.000000, 0),
(6109, 19, 2296.420410, -6057.990723, 108.193848, 100.000000, 0, 0.000000, 0),
(6109, 20, 2290.122559, -6027.276855, 108.337784, 100.000000, 0, 0.000000, 0),
(6109, 21, 2285.275146, -5988.508301, 107.130821, 100.000000, 0, 0.000000, 0),
(6109, 22, 2287.782471, -6004.364746, 106.014481, 100.000000, 0, 0.000000, 0),
(6109, 23, 2290.933594, -6044.494629, 109.407898, 100.000000, 0, 0.000000, 0),
(6109, 24, 2305.793945, -6072.260254, 106.705269, 100.000000, 0, 0.000000, 0),
(6109, 25, 2341.802979, -6086.852539, 107.078270, 100.000000, 0, 0.000000, 0),
(6109, 26, 2368.842285, -6102.171875, 105.833229, 100.000000, 0, 0.000000, 0),
(6109, 27, 2387.170410, -6135.358887, 103.348053, 100.000000, 0, 0.000000, 0),
(6109, 28, 2410.070313, -6152.008789, 101.499199, 100.000000, 0, 0.000000, 0),
(6109, 29, 2436.135986, -6169.795410, 102.746170, 100.000000, 0, 0.000000, 0),
(6109, 30, 2469.749268, -6204.872559, 102.232285, 100.000000, 0, 0.000000, 0),
(6109, 31, 2499.501221, -6231.897461, 102.923103, 100.000000, 0, 0.000000, 0),
(6109, 32, 2522.176514, -6254.635254, 102.621910, 100.000000, 0, 0.000000, 0),
(6109, 33, 2552.199707, -6264.005371, 104.763939, 100.000000, 0, 0.000000, 0),
(6109, 34, 2581.665039, -6275.647949, 100.952919, 100.000000, 0, 0.000000, 0),
(6109, 35, 2613.235840, -6276.744629, 99.480965, 100.000000, 0, 0.000000, 0),
(6109, 36, 2644.784668, -6280.413574, 100.791672, 100.000000, 0, 0.000000, 0),
(6109, 37, 2682.564453, -6273.540527, 95.038437, 100.000000, 0, 0.000000, 0),
(6109, 38, 2708.957764, -6255.656250, 96.572891, 100.000000, 0, 0.000000, 0),
(6109, 39, 2741.255371, -6220.177734, 101.621651, 100.000000, 0, 0.000000, 0),
(6109, 40, 2727.117676, -6187.490234, 100.663719, 100.000000, 0, 0.000000, 0),
(6109, 41, 2686.754639, -6162.611816, 96.928665, 100.000000, 0, 0.000000, 0),
(6109, 42, 2656.035889, -6154.703125, 98.837578, 100.000000, 0, 0.000000, 0),
(6109, 43, 2652.995117, -6129.821777, 100.164719, 100.000000, 0, 0.000000, 0),
(6109, 44, 2649.120117, -6081.685059, 98.034203, 100.000000, 0, 0.000000, 0),
(6109, 45, 2628.414551, -6058.860840, 100.639740, 100.000000, 0, 0.000000, 0),
(6109, 46, 2589.772217, -6050.996582, 103.876770, 100.000000, 0, 0.000000, 0),
(6109, 47, 2565.662842, -6048.916504, 101.780998, 100.000000, 0, 0.000000, 0),
(6109, 48, 2525.458496, -6051.201172, 99.480438, 100.000000, 0, 0.000000, 0),
(6109, 49, 2491.059082, -6070.353027, 99.118431, 100.000000, 0, 0.000000, 0),
(6109, 50, 2482.788330, -6107.267090, 100.138664, 100.000000, 0, 0.000000, 0),
(6109, 51, 2468.871094, -6134.952637, 103.637093, 100.000000, 0, 0.000000, 0),
(6109, 52, 2435.306396, -6169.410156, 102.701965, 100.000000, 0, 0.000000, 0),
(6109, 53, 2396.679443, -6175.640625, 100.393715, 100.000000, 0, 0.000000, 0),
(6109, 54, 2374.816895, -6184.539551, 103.463776, 100.000000, 0, 0.000000, 0),
(6109, 55, 2355.898438, -6208.841309, 104.638977, 100.000000, 0, 0.000000, 0),
(6109, 56, 2346.903320, -6239.626465, 104.905212, 100.000000, 0, 0.000000, 0),
(6109, 57, 2343.143555, -6271.375000, 107.248329, 100.000000, 0, 0.000000, 0),
(6109, 58, 2320.309814, -6312.920410, 106.313675, 100.000000, 0, 0.000000, 0),
(6109, 59, 2337.017090, -6285.356934, 107.008148, 100.000000, 0, 0.000000, 0),
(6109, 60, 2344.634521, -6255.229980, 107.702789, 100.000000, 0, 0.000000, 0),
(6109, 61, 2350.276855, -6223.736816, 104.574165, 100.000000, 0, 0.000000, 0),
(6109, 62, 2363.372314, -6194.664063, 105.579849, 100.000000, 0, 0.000000, 0),
(6109, 63, 2381.804688, -6180.864746, 101.505585, 100.000000, 0, 0.000000, 0),
(6109, 64, 2420.360352, -6174.249512, 100.786308, 100.000000, 0, 0.000000, 0),
(6109, 65, 2457.972900, -6147.562012, 104.880516, 100.000000, 0, 0.000000, 0),
(6109, 66, 2478.115723, -6122.529297, 102.248055, 100.000000, 0, 0.000000, 0),
(6109, 67, 2483.936768, -6083.680664, 100.028900, 100.000000, 0, 0.000000, 0),
(6109, 68, 2510.307373, -6056.848145, 97.866806, 100.000000, 0, 0.000000, 0),
(6109, 69, 2549.000977, -6048.821777, 100.661263, 100.000000, 0, 0.000000, 0),
(6109, 70, 2573.105469, -6049.409180, 102.617691, 100.000000, 0, 0.000000, 0),
(6109, 71, 2612.754883, -6054.041992, 100.967880, 100.000000, 0, 0.000000, 0),
(6109, 72, 2640.226318, -6068.551270, 98.669151, 100.000000, 0, 0.000000, 0),
(6109, 73, 2654.065918, -6112.641113, 101.279053, 100.000000, 0, 0.000000, 0),
(6109, 74, 2649.822021, -6144.288086, 100.404175, 100.000000, 0, 0.000000, 0),
(6109, 75, 2670.663574, -6157.576172, 98.216469, 100.000000, 0, 0.000000, 0);
UPDATE `creature` SET `position_x`=2680.74, `position_y`=-6159.52, `position_z`=98.1557, `orientation`=6.13291 WHERE `id`=6109;

-- Waypoints for Spirit of Azuregos (the same but different starting point).
DELETE FROM `creature_movement_template` WHERE `entry`=15481;
INSERT INTO `creature_movement_template` (`entry`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(15481, 1, 2530.982666, -6259.502441, 104.011574, 100.000000, 0, 0.000000, 0),
(15481, 2, 2510.067139, -6241.948242, 103.307884, 100.000000, 0, 0.000000, 0),
(15481, 3, 2481.587158, -6216.646973, 102.746506, 100.000000, 0, 0.000000, 0),
(15481, 4, 2452.481201, -6185.842773, 101.496544, 100.000000, 0, 0.000000, 0),
(15481, 5, 2429.046387, -6163.616211, 103.176132, 100.000000, 0, 0.000000, 0),
(15481, 6, 2401.387207, -6148.634277, 99.000694, 100.000000, 0, 0.000000, 0),
(15481, 7, 2381.694336, -6119.828125, 103.448891, 100.000000, 0, 0.000000, 0),
(15481, 8, 2355.475342, -6092.491699, 109.464714, 100.000000, 0, 0.000000, 0),
(15481, 9, 2319.521973, -6080.677246, 105.931664, 100.000000, 0, 0.000000, 0),
(15481, 10, 2296.405029, -6057.967285, 108.197304, 100.000000, 0, 0.000000, 0),
(15481, 11, 2290.115479, -6027.123535, 108.318565, 100.000000, 0, 0.000000, 0),
(15481, 12, 2285.275146, -5988.508301, 107.130821, 100.000000, 0, 0.000000, 0),
(15481, 13, 2288.729004, -6010.352539, 106.565346, 100.000000, 0, 0.000000, 0),
(15481, 14, 2290.935791, -6044.539551, 109.409767, 100.000000, 0, 0.000000, 0),
(15481, 15, 2304.701660, -6070.583496, 106.711548, 100.000000, 0, 0.000000, 0),
(15481, 16, 2349.448975, -6088.959961, 108.790169, 100.000000, 0, 0.000000, 0),
(15481, 17, 2375.330078, -6106.888672, 105.538071, 100.000000, 0, 0.000000, 0),
(15481, 18, 2388.734619, -6139.803223, 99.791100, 100.000000, 0, 0.000000, 0),
(15481, 19, 2415.614258, -6154.170410, 103.085434, 100.000000, 0, 0.000000, 0),
(15481, 20, 2436.249512, -6169.894043, 102.733650, 100.000000, 0, 0.000000, 0),
(15481, 21, 2469.886963, -6205.024902, 102.245117, 100.000000, 0, 0.000000, 0),
(15481, 22, 2499.669678, -6232.041016, 102.855385, 100.000000, 0, 0.000000, 0),
(15481, 23, 2522.369629, -6254.836914, 102.639366, 100.000000, 0, 0.000000, 0),
(15481, 24, 2550.539551, -6263.650391, 104.813591, 100.000000, 0, 0.000000, 0),
(15481, 25, 2582.033936, -6275.818848, 101.003754, 100.000000, 0, 0.000000, 0),
(15481, 26, 2613.597412, -6276.724121, 99.435684, 100.000000, 0, 0.000000, 0),
(15481, 27, 2643.388428, -6280.123535, 100.415627, 100.000000, 0, 0.000000, 0),
(15481, 28, 2683.164063, -6273.347168, 95.069962, 100.000000, 0, 0.000000, 0),
(15481, 29, 2709.362793, -6255.340332, 96.615669, 100.000000, 0, 0.000000, 0),
(15481, 30, 2741.638184, -6219.722656, 101.646423, 100.000000, 0, 0.000000, 0),
(15481, 31, 2726.809082, -6187.044922, 100.562126, 100.000000, 0, 0.000000, 0),
(15481, 32, 2686.133789, -6162.287598, 97.016182, 100.000000, 0, 0.000000, 0),
(15481, 33, 2655.291260, -6154.558105, 98.932419, 100.000000, 0, 0.000000, 0),
(15481, 34, 2652.729492, -6131.035156, 100.125885, 100.000000, 0, 0.000000, 0),
(15481, 35, 2648.989502, -6080.869141, 98.047104, 100.000000, 0, 0.000000, 0),
(15481, 36, 2627.830811, -6058.381348, 100.781433, 100.000000, 0, 0.000000, 0),
(15481, 37, 2589.030029, -6050.898438, 103.907974, 100.000000, 0, 0.000000, 0),
(15481, 38, 2556.888428, -6048.332031, 100.848854, 100.000000, 0, 0.000000, 0),
(15481, 39, 2526.671387, -6051.077637, 99.541382, 100.000000, 0, 0.000000, 0),
(15481, 40, 2490.293945, -6070.889160, 99.144371, 100.000000, 0, 0.000000, 0),
(15481, 41, 2482.837402, -6106.285156, 100.107925, 100.000000, 0, 0.000000, 0),
(15481, 42, 2468.244873, -6135.793945, 103.668671, 100.000000, 0, 0.000000, 0),
(15481, 43, 2434.577881, -6170.111328, 102.512390, 100.000000, 0, 0.000000, 0),
(15481, 44, 2395.685791, -6175.698730, 100.380913, 100.000000, 0, 0.000000, 0),
(15481, 45, 2373.987793, -6184.977539, 103.644684, 100.000000, 0, 0.000000, 0),
(15481, 46, 2356.369141, -6207.945313, 104.628693, 100.000000, 0, 0.000000, 0),
(15481, 47, 2346.686279, -6240.652832, 105.140785, 100.000000, 0, 0.000000, 0),
(15481, 48, 2343.040771, -6272.479004, 107.115685, 100.000000, 0, 0.000000, 0),
(15481, 49, 2320.309814, -6312.920410, 106.313675, 100.000000, 0, 0.000000, 0),
(15481, 50, 2337.022461, -6285.348633, 107.008499, 100.000000, 0, 0.000000, 0),
(15481, 51, 2344.635986, -6255.215332, 107.701530, 100.000000, 0, 0.000000, 0),
(15481, 52, 2349.865723, -6225.680176, 104.491432, 100.000000, 0, 0.000000, 0),
(15481, 53, 2362.415283, -6196.481934, 105.624062, 100.000000, 0, 0.000000, 0),
(15481, 54, 2387.103271, -6178.066406, 100.538589, 100.000000, 0, 0.000000, 0),
(15481, 55, 2426.843018, -6173.868652, 101.059853, 100.000000, 0, 0.000000, 0),
(15481, 56, 2458.253662, -6147.291992, 104.856163, 100.000000, 0, 0.000000, 0),
(15481, 57, 2477.195068, -6123.765625, 102.505089, 100.000000, 0, 0.000000, 0),
(15481, 58, 2483.956543, -6083.278320, 99.995277, 100.000000, 0, 0.000000, 0),
(15481, 59, 2510.670654, -6056.593262, 97.903755, 100.000000, 0, 0.000000, 0),
(15481, 60, 2549.508301, -6048.770020, 100.671883, 100.000000, 0, 0.000000, 0),
(15481, 61, 2573.620117, -6049.443359, 102.682129, 100.000000, 0, 0.000000, 0),
(15481, 62, 2621.593018, -6055.204590, 101.452553, 100.000000, 0, 0.000000, 0),
(15481, 63, 2640.819092, -6069.038574, 98.645164, 100.000000, 0, 0.000000, 0),
(15481, 64, 2653.876221, -6111.456055, 101.316788, 100.000000, 0, 0.000000, 0),
(15481, 65, 2649.648193, -6145.081543, 100.378792, 100.000000, 0, 0.000000, 0),
(15481, 66, 2671.401123, -6157.720215, 98.310410, 100.000000, 0, 0.000000, 0),
(15481, 67, 2715.082031, -6177.447754, 98.522118, 100.000000, 0, 0.000000, 0),
(15481, 68, 2739.603027, -6205.490234, 101.857109, 100.000000, 0, 0.000000, 0),
(15481, 69, 2720.784424, -6244.536133, 97.367790, 100.000000, 0, 0.000000, 0),
(15481, 70, 2696.458008, -6265.424805, 96.332062, 100.000000, 0, 0.000000, 0),
(15481, 71, 2660.491943, -6280.635254, 99.946030, 100.000000, 0, 0.000000, 0),
(15481, 72, 2629.461914, -6277.255371, 98.420845, 100.000000, 0, 0.000000, 0),
(15481, 73, 2597.484131, -6277.609375, 101.714012, 100.000000, 0, 0.000000, 0),
(15481, 74, 2567.368408, -6269.028320, 101.427994, 100.000000, 0, 0.000000, 0),
(15481, 75, 2536.600586, -6260.703125, 104.609329, 100.000000, 0, 0.000000, 0);
UPDATE `creature` SET `position_x`=2530.98, `position_y`=-6259.5, `position_z`=104.012, `orientation`=2.93098, `movement_type`=2 WHERE `id`=15481;


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
